# Dopamint Indexer Environment Variables
# Copy this file to .env and fill in your values

# ===========================
# RPC Configuration
# ===========================
RPC_URL=https://base.llamarpc.com
# Or use your own Base RPC endpoint:
# RPC_URL=https://mainnet.base.org
# RPC_URL=https://base.publicnode.com

# ===========================
# Dopamint Contract Addresses
# ===========================
# Factory Contract Address (REQUIRED)
DOPAMINT_FACTORY_ADDRESS=0xYourFactoryAddressHere

# Payment Contract Address (REQUIRED)
DOPAMINT_PAYMENT_ADDRESS=0xYourPaymentAddressHere

# Start blocks for indexing (optional, default: 0)
DOPAMINT_FACTORY_START_BLOCK=0
DOPAMINT_PAYMENT_START_BLOCK=0

# ===========================
# MongoDB Configuration
# ===========================
# MongoDB connection string
MONGODB_URI=mongodb://localhost:27017

# Database and collection names
MONGODB_DATABASE=dopamint
MONGODB_COLLECTION=nft_contracts

# MongoDB credentials (if auth enabled)
MONGODB_USERNAME=
MONGODB_PASSWORD=

# ===========================
# ClickHouse Configuration
# ===========================
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=9000
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DB=dopamint_indexer
CLICKHOUSE_DISABLE_TLS=true

# ===========================
# S3 Configuration
# ===========================
S3_BUCKET=dopamint-indexer-data
S3_REGION=us-east-1
S3_ENDPOINT=

# AWS Credentials
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# ===========================
# Kafka Configuration
# ===========================
KAFKA_BROKERS=localhost:9092
KAFKA_TOPIC=dopamint-blocks
KAFKA_GROUP_ID=dopamint-indexer

# ===========================
# Redis Configuration
# ===========================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ===========================
# Backfill Configuration
# ===========================
# Starting block for historical data indexing
BACKFILL_FROM_BLOCK=0

# Ending block (leave empty for latest)
BACKFILL_TO_BLOCK=

# ===========================
# Committer Configuration
# ===========================
# Enable live mode (poll for new blocks)
COMMITTER_IS_LIVE=true

# ===========================
# Logging Configuration
# ===========================
LOG_LEVEL=info  # debug, info, warn, error

# ===========================
# Performance Tuning
# ===========================
# Number of concurrent workers
INDEXER_CONCURRENCY=4

# Memory limit (MB)
INDEXER_MAX_MEMORY_MB=4096
